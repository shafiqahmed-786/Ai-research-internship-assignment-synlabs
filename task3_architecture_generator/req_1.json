{
  "fallback": {
    "modules": [
      {
        "name": "Auth",
        "description": "User registration, login, and session management."
      },
      {
        "name": "Catalog",
        "description": "Product listing, search, filters, and product details."
      },
      {
        "name": "Cart",
        "description": "Temporary cart storage and manipulation."
      },
      {
        "name": "Checkout",
        "description": "Order creation, payment integration, and order confirmation."
      },
      {
        "name": "Admin",
        "description": "Product CRUD, inventory updates, and order management."
      },
      {
        "name": "Analytics",
        "description": "Aggregate sales, top-selling products and reporting."
      }
    ],
    "schema": [
      {
        "name": "sources",
        "columns": [
          {
            "name": "id",
            "type": "uuid",
            "pk": true,
            "nullable": false,
            "description": "Source id"
          },
          {
            "name": "name",
            "type": "varchar(255)",
            "pk": false,
            "nullable": false,
            "description": "Source name"
          },
          {
            "name": "type",
            "type": "varchar(50)",
            "pk": false,
            "nullable": false,
            "description": "rss/twitter/api"
          }
        ],
        "relations": []
      },
      {
        "name": "content",
        "columns": [
          {
            "name": "id",
            "type": "uuid",
            "pk": true,
            "nullable": false,
            "description": "Content id"
          },
          {
            "name": "source_id",
            "type": "uuid",
            "pk": false,
            "nullable": false,
            "description": "FK to sources"
          },
          {
            "name": "raw_text",
            "type": "text",
            "pk": false,
            "nullable": true,
            "description": "Original text"
          },
          {
            "name": "topic",
            "type": "varchar(100)",
            "pk": false,
            "nullable": true,
            "description": "Assigned topic"
          },
          {
            "name": "ingested_at",
            "type": "timestamp",
            "pk": false,
            "nullable": false,
            "description": "Ingest time"
          }
        ],
        "relations": [
          {
            "from_table": "content",
            "from_field": "source_id",
            "to_table": "sources",
            "to_field": "id",
            "type": "many-to-one"
          }
        ]
      }
    ],
    "pseudocode": {
      "add_to_cart": [
        "Validate user session or allow guest cart",
        "Fetch product by id",
        "Check inventory >= requested quantity",
        "Create or update cart item with quantity"
      ],
      "checkout": [
        "Validate cart is not empty",
        "Calculate totals and taxes",
        "Validate payment info and call payment gateway",
        "On success: create order record, decrement product inventory, send confirmation email"
      ]
    },
    "notes": [
      "Generated by deterministic fallback; refine types and constraints for production.",
      "Consider indexing frequently queried columns and handling soft deletes."
    ]
  }
}